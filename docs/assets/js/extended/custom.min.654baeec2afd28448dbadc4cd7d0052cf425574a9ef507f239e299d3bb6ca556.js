function sleep(e){return new Promise(t=>setTimeout(t,e))}if(window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")),window.addEventListener("resize",function(){window.innerWidth<769?document.getElementById("menu").classList.contains("hidden")||(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")):document.getElementById("menu").classList.contains("hidden")&&(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden"))},!0),document.getElementById("menu-trigger").addEventListener("click",e=>{window.innerWidth<769&&(document.getElementById("menu").classList.contains("hidden")?(document.getElementById("menu").classList.add("reveal"),document.getElementById("menu").classList.remove("hidden")):(document.getElementById("menu").classList.add("hidden"),document.getElementById("menu").classList.remove("reveal")))}),window.location.pathname.match(/^\/posts\/.+/)){const e=window.location.pathname.match(/^(\/posts\/)([^/]+)/);if(e[2]!=="page"){function series_toggle(t,n){const e=document.querySelector(".post-single .series-main .series-list");e.style.display==="none"||e.style.display===""?(localStorage.setItem("lock-series-"+n,!1),t.innerText="🔓",e.style.display="block"):e.style.display==="block"&&(localStorage.setItem("lock-series-"+n,!0),t.innerText="🔒",e.style.display="none")}const t=document.querySelector(".main .post-single>.toc"),e=[],n=function(e){document.readyState==="interactive"||document.readyState==="complete"?e():document.addEventListener("DOMContentLoaded",e)};n(function(){document.querySelector(".post-title")&&sleep(200).then(()=>{document.querySelector(".post-title").style.opacity="1",document.querySelector(".post-title").style.transform="translateY(0%)"}),document.querySelector(".series-main")&&sleep(200).then(()=>{document.querySelector(".series-main").style.opacity="1",document.querySelector(".series-main").style.transform="translateY(0%)"}),document.querySelector(".post-content")&&sleep(600).then(()=>{document.querySelector(".post-content").style.opacity="1",document.querySelector(".post-content").style.transform="translateX(0%)"}),document.querySelector("header.header").style.borderBottom="none";const r="scroll-up",u="scroll-down",d="header-bottom";let l=null,f=null,i=0,o=0;const v=document.querySelector(".main .toc.aside details"),s=document.querySelector("header.header"),a=document.querySelector(".main .toc"),c=t?t.offsetTop+t.offsetParent.offsetTop-1:0,m=document.querySelector(".post-header");function p(){let e=b.scrollHeight-_(h)-window.innerHeight,t=o,n=t/e*100;h.style.width=n+"%"}function _(e){var o=e.offsetHeight,t=document.body.offsetHeight,n=e.getBoundingClientRect(),s=n.top,i=n.bottom;return Math.max(0,s>0?Math.min(o,t-s):Math.min(i,t))}const b=document.querySelector("html"),j=document.querySelector("body"),g=document.createElement("div");g.classList.add("progress-bar-container__progress"),j.prepend(g);const h=document.querySelector(".progress-bar-container__progress"),y={childList:!0,subtree:!0,characterData:!0,attributes:!0};if(new MutationObserver(p).observe(h,y),a!==null){const t=a.cloneNode(!0);t.classList.add("aside");const o=t.querySelectorAll(".inner ul>li");for(let t=0;t<o.length;t++)e[t]=decodeURI(o[t].firstElementChild.hash.substring(1));c<window.pageYOffset?t.classList.add("reveal"):c>=window.pageYOffset&&t.classList.add("hide");const i=t.querySelector("details summary .details"),n=document.createElement("span");let s=null;localStorage.getItem("lock-aside-toc-"+window.location.pathname)==="true"?(t.querySelector("details").removeAttribute("open"),s=document.createTextNode("🔒")):(t.querySelector("details").setAttribute("open",""),s=document.createTextNode("🔓")),n.appendChild(s),n.classList.add("tocLock"),i.prepend(n),t.querySelector("details summary").addEventListener("click",e=>{e.target.querySelector(".tocLock")===null?e.target.innerText==="🔓"?(localStorage.setItem("lock-aside-toc-"+window.location.pathname,!0),e.target.innerText="🔒"):(localStorage.setItem("lock-aside-toc-"+window.location.pathname,!1),e.target.innerText="🔓"):e.target.querySelector(".tocLock").innerText==="🔓"?(localStorage.setItem("lock-aside-toc-"+window.location.pathname,!0),e.target.querySelector(".tocLock").innerText="🔒"):(localStorage.setItem("lock-aside-toc-"+window.location.pathname,!1),e.target.querySelector(".tocLock").innerText="🔓")}),a.parentNode.insertBefore(t,a.nextSibling)}const n=document.querySelector(".main .toc.aside");if(window.addEventListener("scroll",()=>{if(o=window.pageYOffset,p(),o<=0){if(!s.classList.contains(r)||s.classList.contains(d)){s.classList.remove(d),s.classList.remove(u),s.classList.add(r);return}}else s.classList.contains(d)||s.classList.add(d);const t=m.offsetHeight+m.offsetTop+m.offsetParent.offsetTop-1;if(o>t&&(o>i?s.classList.contains(r)&&(s.classList.remove(r),s.classList.add(u),document.getElementById("menu").classList.contains("reveal")&&(document.getElementById("menu").classList.remove("reveal"),document.getElementById("menu").classList.add("hidden"))):o<i&&s.classList.contains(u)&&(s.classList.remove(u),s.classList.add(r))),a!==null){c<o&&n.classList.contains("hide")?(n.classList.remove("hide"),n.classList.add("reveal")):c>=o&&n.classList.contains("reveal")&&(n.scrollTop=0,n.classList.remove("reveal"),n.classList.add("hide"));const t=n.querySelectorAll(".inner ul>li");let s=null,a=null;if(e.map((n,e)=>{a=document.getElementById(n),a.offsetTop+a.offsetParent.offsetTop-1<=o&&(l=t[e],s=e)}),s!==null){let a=Math.ceil(o+window.innerHeight)>=document.body.scrollHeight;if(a){for(let e=0;e<t.length;e++){if(!t[e].classList.contains("selected"))continue;t[e].classList.remove("selected")}t[e.length-1].classList.add("selected"),f=t[e.length-1]}else{if(l===f&&s>0){i=o;return}for(let e=0;e<t.length;e++){if(!t[e].classList.contains("selected"))continue;t[e].classList.remove("selected")}l.classList.add("selected"),f=l}s!==null&&n.scroll({behavior:"smooth",top:s*20})}else{if(n.querySelector(".selected")===null){i=o;return}for(let e=0;e<t.length;e++){if(!t[e].classList.contains("selected"))continue;t[e].classList.remove("selected")}}}i=o}),v!==null){const t=new MutationObserver((t)=>{if(t[0].oldValue!==null)return;for(let t=0;t<e.length;t++){let o=document.getElementById(e[t]),s=document.getElementById(e[t+1]);if(s!==null&&window.pageYOffset>=o.offsetTop+o.offsetParent.offsetTop-1&&window.pageYOffset<s.offsetTop+s.offsetParent.offsetTop-1){let s=Math.ceil(window.pageYOffset+window.innerHeight)>=document.body.scrollHeight;n.querySelectorAll(".inner ul>li")[t+1].classList.contains("selected")&&n.querySelectorAll(".inner ul>li")[t+1].classList.remove("selected"),s?(n.querySelectorAll(".inner ul>li")[e.length-1].classList.add("selected"),n.scrollTop=(e.length-1)*20):(n.querySelectorAll(".inner ul>li")[t].classList.add("selected"),n.scrollTop=t*20)}}});t.observe(v,{attributes:!0,attributeOldValue:!0,attributeFilter:["open"]})}}),window.onload=function(){const n=document.querySelectorAll(".post-content .highlight td:nth-child(2) pre code.hljs");for(let e=0;e<n.length;e++)n[e].style.width="100%";const s=t?t.offsetTop+t.offsetParent.offsetTop-1:0;if(s<window.pageYOffset){const t=document.querySelectorAll(".main .toc.aside .inner ul>li");for(let n=0;n<e.length;n++){let o=document.getElementById(e[n]),s=document.getElementById(e[n+1]);s!==null&&window.pageYOffset>=o.offsetTop+o.offsetParent.offsetTop-1&&window.pageYOffset<s.offsetTop+s.offsetParent.offsetTop-1&&(t[n+1]!==null&&t[n+1].classList.remove("selected"),t[n].classList.add("selected"),document.querySelector(".main .toc.aside").scrollTop=n*20)}}}}else{const t=document.querySelector(".page-header");t&&sleep(200).then(()=>{t.style.opacity="1",t.style.transform="translateY(0%)"});const e=document.querySelectorAll(".post-entry");e&&sleep(300).then(()=>{for(let t=0;t<e.length;t++)sleep((t+1)*100).then(()=>{e[t].style.opacity="1",e[t].style.transform="translateX(0%)"})})}}else if(window.location.pathname.match(/^\/archives\/$/)){function archives_toggle(t,s){const e=document.getElementById(t),n=s.querySelector(".toggle");e.style.display==="none"||e.style.display===""?(localStorage.setItem("lock-archives-"+t,!1),n.innerText="📂",e.style.display="block"):e.style.display==="block"&&(localStorage.setItem("lock-archives-"+t,!0),n.innerText="📁",e.style.display="none")}const e=document.querySelectorAll(".archive-year .archive-month"),t=document.querySelectorAll(".archive-year .archive-year-header");t&&sleep(300).then(()=>{for(let e=0;e<t.length;e++)sleep((e+1)*100).then(()=>{t[e].style.opacity="1",t[e].style.transform="translateY(0%)"})}),e&&sleep(700).then(()=>{for(let t=0;t<e.length;t++)sleep((t+1)*50).then(()=>{e[t].children[0].style.opacity="1",e[t].children[0].style.transform="translateY(0%)",e[t].children[1].style.opacity="1",e[t].children[1].style.transform="translateX(0%)"})})}else if(window.location.pathname.match(/^\/tags\/$/)){{const e=document.querySelectorAll(".terms-tags li");if(e){let t=[];for(i=0;i<e.length;i++)randomNum=Math.floor(Math.random()*e.length),t.indexOf(randomNum)===-1?t.push(randomNum):i--;sleep(300).then(()=>{for(let n=0;n<t.length;n++)sleep((n+1)*20).then(()=>{e[t[n]].children[0].style.opacity="1",e[t[n]].children[0].style.transform="translateY(0%)"})})}}}else if(window.location.pathname.match(/^\/search\/$/)){const e=document.querySelector("#searchInput");e&&(e.style.width="100%")}else window.location.pathname.match(/^\/series-list\/$/)||window.location.pathname.match(/^\/collection\/$/)||window.location.pathname.match(/^\/posts\/$/)||window.location.pathname.match(/^\/tags\/.+/)||window.location.pathname.match(/^\/categories\/.+/)||window.location.pathname.match(/^\/series\/.+/)||window.location.pathname.match(/^\/chapter\/.+/)||window.location.pathname==="/"?(document.querySelector(".page-header")&&sleep(200).then(()=>{const e=document.querySelector(".page-header");e.style.opacity="1",e.style.transform="translateY(0%)"}),document.querySelector(".post-entry")&&sleep(300).then(()=>{const e=document.querySelectorAll(".post-entry");for(let t=0;t<e.length;t++)sleep((t+1)*100).then(()=>{e[t].style.opacity="1",e[t].style.transform="translateX(0%)"})})):window.location.pathname.match(/^\/links\/$/)&&(document.querySelector(".link-header")&&sleep(300).then(()=>{const e=document.querySelector(".link-header");e.style.opacity="1",e.style.transform="translateY(0%)"}),document.querySelectorAll(".links .button")&&sleep(700).then(()=>{const e=document.querySelectorAll(".links .button");for(let t=0;t<e.length;t++)sleep((t+1)*100).then(()=>{e[t].style.opacity="1",e[t].style.transform="translateX(0%)"})}))